/*! For license information please see account.bundle.js.LICENSE.txt */
(()=>{"use strict";function e(){var n,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function c(e,o,a,i){var c=o&&o.prototype instanceof u?o:u,l=Object.create(c.prototype);return t(l,"_invoke",function(e,t,o){var a,i,c,u=0,l=o||[],d=!1,m={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(e,t){return a=e,i=0,c=n,m.n=t,s}};function f(e,t){for(i=e,c=t,r=0;!d&&u&&!o&&r<l.length;r++){var o,a=l[r],f=m.p,p=a[2];e>3?(o=p===t)&&(i=a[4]||3,c=a[5]===n?a[3]:a[5],a[4]=3,a[5]=n):a[0]<=f&&((o=e<2&&f<a[1])?(i=0,m.v=t,m.n=a[1]):f<p&&(o=e<3||a[0]>t||t>p)&&(a[4]=e,a[5]=t,m.n=p,i=0))}if(o||e>1)return s;throw d=!0,t}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,p),i=l,c=p;(r=i<2?n:c)||!d;){a||(i?i<3?(i>1&&(m.n=-1),f(i,c)):m.n=c:m.v=c);try{if(u=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=n}else if((r=(d=m.n<0)?c:e.call(t,m))!==s)break}catch(e){a=n,i=1,c=e}finally{u=1}}return{value:r,done:d}}}(e,a,i),!0),l}var s={};function u(){}function l(){}function d(){}r=Object.getPrototypeOf;var m=[][a]?r(r([][a]())):(t(r={},a,(function(){return this})),r),f=d.prototype=u.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=d,t(f,"constructor",d),t(d,"constructor",l),l.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(f),t(f,i,"Generator"),t(f,a,(function(){return this})),t(f,"toString",(function(){return"[object Generator]"})),(e=function(){return{w:c,m:p}})()}function t(e,n,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t=function(e,n,r,o){if(n)a?a(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r;else{var i=function(n,r){t(e,n,(function(e){return this._invoke(n,r,e)}))};i("next",0),i("throw",1),i("return",2)}},t(e,n,r,o)}function n(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function c(e){n(i,o,a,c,s,"next",e)}function s(e){n(i,o,a,c,s,"throw",e)}c(void 0)}))}}var o=document.getElementById("login-form"),a=document.getElementById("register-form"),i=document.getElementById("profile-form"),c=document.getElementById("theme-button"),s=document.getElementById("theme-dropdown"),u=document.getElementById("theme-icon"),l=document.querySelectorAll(".theme-option");function d(e){switch(o.classList.add("hidden"),a.classList.add("hidden"),i.classList.add("hidden"),e){case"login":o.classList.remove("hidden");break;case"register":a.classList.remove("hidden");break;case"profile":i.classList.remove("hidden")}}function m(e){return"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}function f(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="string"==typeof e?e:"system",r=m(n);document.documentElement.style.setProperty("--transition-normal","none"),document.body.classList.remove("light-theme","dark-theme"),requestAnimationFrame((function(){var e="".concat(r,"-theme");document.body.classList.add(e),document.documentElement.style.setProperty("--transition-normal","all 0.3s ease"),t&&localStorage.setItem("theme",n),function(e){var t=m(e);u.className="dark"===t?"ri-moon-line":"ri-sun-line"}(n),function(e){l.forEach((function(t){t.dataset.theme===e?t.classList.add("active"):t.classList.remove("active")}))}(n)}))}document.querySelectorAll(".toggle-password").forEach((function(e){e.addEventListener("click",(function(){var t=e.parentElement.querySelector("input"),n=e.querySelector("i");"password"===t.type?(t.type="text",n.className="ri-eye-line"):(t.type="password",n.className="ri-eye-off-line")}))})),c.addEventListener("click",(function(){s.classList.toggle("hidden")})),document.addEventListener("click",(function(e){c.contains(e.target)||s.contains(e.target)||s.classList.add("hidden")})),l.forEach((function(e){e.addEventListener("click",(function(){f(e.dataset.theme),s.classList.add("hidden")}))})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){"system"===(localStorage.getItem("theme")||"system")&&f("system",!1)}));var p=localStorage.getItem("theme")||"system";"string"==typeof p?f(p,!1):p instanceof Promise?p.then((function(e){return f(e||"system",!1)})).catch((function(){return f("system",!1)})):f("system",!1),o.addEventListener("submit",function(){var t=r(e().m((function t(n){var r,o,a,i,c;return e().w((function(e){for(;;)switch(e.n){case 0:return n.preventDefault(),r=document.getElementById("login-email").value,o=document.getElementById("login-password").value,e.p=1,e.n=2,fetch("".concat("http://localhost:5101","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})});case 2:if((a=e.v).ok){e.n=3;break}throw new Error("Login failed: ".concat(a.status));case 3:return e.n=4,a.json();case 4:i=e.v,localStorage.setItem("user",JSON.stringify(i.user)),localStorage.setItem("token",i.token),window.location.href="index.html",e.n=6;break;case 5:e.p=5,c=e.v,console.error("Login error:",c),alert("Login failed. Please try again.");case 6:return e.a(2)}}),t,null,[[1,5]])})));return function(e){return t.apply(this,arguments)}}()),a.addEventListener("submit",function(){var t=r(e().m((function t(n){var r,o,a,i;return e().w((function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),r=document.getElementById("register-name").value,o=document.getElementById("register-email").value,a=document.getElementById("register-password").value,i=document.getElementById("register-confirm-password").value,a===i){e.n=1;break}return alert("Passwords do not match"),e.a(2);case 1:try{console.log("Register:",{name:r,email:o,password:a}),d("login")}catch(e){console.error("Registration error:",e)}case 2:return e.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.addEventListener("submit",function(){var t=r(e().m((function t(n){var r,o,a;return e().w((function(e){for(;;)switch(e.n){case 0:n.preventDefault(),r=document.getElementById("profile-name").value,o=document.getElementById("profile-current-password").value,a=document.getElementById("profile-new-password").value;try{console.log("Update profile:",{name:r,currentPassword:o,newPassword:a})}catch(e){console.error("Profile update error:",e)}case 1:return e.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()),d(localStorage.getItem("token")?"profile":"login")})();
//# sourceMappingURL=account.bundle.js.map